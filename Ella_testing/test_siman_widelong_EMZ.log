
. siman which
C:\ian\git\siman\siman.ado
*!version 0.3  08aug2023
C:\ian\git\siman\siman_setup.ado
*!   version 0.8.7  27nov2023
C:\ian\git\siman\siman_describe.ado
*! version 0.5   17oct2022  
C:\ian\git\siman\siman_analyse.ado
*! version 0.6.11 19dec2023
C:\ian\git\siman\siman_table.ado
*! version 0.8.2   20dec2023
C:\ian\git\siman\siman_reshape.ado
*!  version 0.3.4   06nov2023
C:\ian\git\siman\siman_lollyplot.ado
*! version 1.13.2  15dec2023
C:\ian\git\siman\siman_zipplot.ado
*! version 1.8.12 25oct2023
C:\ian\git\siman\siman_comparemethodsscatter.ado
*! version 1.9.18 25oct2023
C:\ian\git\siman\siman_blandaltman.ado
*! version 1.6.11 16oct2023  EMZ produce error message if >=, <= or methlist(x/y) is used.
C:\ian\git\siman\siman_swarm.ado
*! version 1.9.7 03oct2023
C:\ian\git\siman\siman_scatter.ado
*! version 1.6.7 03oct2023
C:\ian\git\siman\siman_nestloop.ado
*! version 1.8.2   17aug2023

. 
. use $testpath/data/msgbsl_inter_try_postfile.dta, clear

. 
. * targets are wide, methods are long 
. * so data are in wide-long format (format 4)
. 
. * need estimates to be stub + target
. rename inter binter

. rename main bmain

. 
. * set up true value variables
. gen trueinter=.3

. gen truemain=0

. 
. * set up
. siman setup, rep(i) target(inter main) method(method) est(b) se(se) true(true) dgm(parm1)
note: converting to long-wide format, creating variable target

                   SUMMARY OF DATA
_____________________________________________________

The siman format is:              format 3: long-wide
The format for targets is:        long
The format for methods is:        wide
The number of targets is:         2
The target values are:            inter main

The number of methods is:         4
The method values are:            CC FULLDAT IMPALL IMPBYZ

Data generating mechanism (dgm)
The total number of dgms is:      1
The dgm variables (# levels):     parm1 (1) 

Estimates are contained in the dataset

The estimates stub is:            b
The se stub is:                   se
The df stub is:                   N/A
The ci stubs are:                 N/A
The p stub is:                    N/A
The true variable is:             true
_____________________________________________________

. 
. * analyse works ok
. siman analyse
siman analyse has run successfully

-----------------------------------------------------------------
target and           |                   method                  
performance measure  |        CC    FULLDAT     IMPALL     IMPBYZ
---------------------+-------------------------------------------
inter                |
               bsims |     10000      10000      10000      10000
                     |                                           
                     | 
              sesims |     10000      10000      10000      10000
                     |                                           
                     | 
                bias |  .0059115   .0015333   .0052478   .0059115
                     |  .0030291    .002069   .0030113   .0030291
                     | 
             pctbias |  1.970502   .5110834   1.749251   1.970502
                     |  1.009701   .6896664   1.003759   1.009701
                     | 
                mean |  .3059115   .3015333   .3052478   .3059115
                     |  .0030291    .002069   .0030113   .0030291
                     | 
               empse |  .3029104   .2068999   .3011278   .3029104
                     |   .002142   .0014631   .0021294    .002142
                     | 
             relprec |             114.3421   1.187411          0
                     |             3.189075   .2449551           
                     | 
                 mse |  .0917805   .0428056   .0906964   .0917805
                     |  .0013657   .0006159   .0013496   .0013657
                     | 
                rmse |  .3029529   .2068953   .3011585   .3029529
                     |   .002254   .0014884   .0022407    .002254
                     | 
             modelse |  .3048548   .2058274   .3062941   .3085094
                     |   .000532   .0002157   .0004706   .0004811
                     | 
             ciwidth |  1.178335    .802491   1.187637   1.195883
                     |  .0019894   .0008355   .0017631   .0017988
                     | 
            relerror |  .6419234  -.5184007   1.715628   1.848428
                     |  .7330312    .711162   .7360551   .7375182
                     | 
               cover |     94.31      94.66      94.83       94.9
                     |  .2316515   .2248297   .2214206   .2199977
                     | 
               power |     18.62      31.41      17.67      17.59
                     |   .389268   .4641564   .3814146   .3807351
---------------------+-------------------------------------------
main                 |
               bsims |     10000      10000      10000      10000
                     |                                           
                     | 
              sesims |     10000      10000      10000      10000
                     |                                           
                     | 
                bias | -.0014899  -.0024519  -.0031501  -.0027479
                     |  .0029408   .0020147   .0020848    .002135
                     | 
             pctbias |                                           
                     |                                           
                     | 
                mean | -.0014899  -.0024519  -.0031501  -.0027479
                     |  .0029408   .0020147   .0020848    .002135
                     | 
               empse |  .2940812    .201468    .208478   .2134977
                     |  .0020796   .0014247   .0014742   .0015097
                     | 
             relprec |               113.07   98.98207   89.73528
                     |              3.04416   2.833241   2.675898
                     | 
                 mse |  .0864773   .0405913   .0434687   .0455843
                     |  .0012391   .0005911   .0006277   .0006603
                     | 
                rmse |  .2940703   .2014729   .2084914   .2135047
                     |  .0021068    .001467   .0015053   .0015464
                     | 
             modelse |  .2922305   .2019903   .2079367    .211888
                     |  .0003659   .0001489   .0001678   .0001907
                     | 
             ciwidth |  1.136844   .7896402   .8125015   .8273879
                     |  .0014074   .0005827     .00065   .0007282
                     | 
            relerror | -.6293141   .2592178  -.2596578   -.753965
                     |  .7136225   .7128181   .7098851   .7074718
                     | 
               cover |     94.09       94.6      94.48      94.39
                     |  .2358118   .2260177   .2283702   .2301147
                     | 
               power |      5.91        5.4       5.52       5.61
                     |  .2358118   .2260177   .2283702   .2301147
-----------------------------------------------------------------
NOTE: Where there are 2 entries in the table, the first entry is the performance measure and the
  second entry is its Monte Carlo error.

. 
. * check get error if true is not constant across methods
. clear all

. 
. use $testpath/data/msgbsl_inter_try_postfile.dta

. 
. * targets are wide, methods are long 
. * so data are in wide-long format (format 4)
. 
. * need estimates to be stub + target
. rename inter binter

. rename main bmain

. 
. * set up true value variables
. gen trueinter=.3

. gen truemain=0

. 
. replace trueinter = 0.5 in 2
(1 real change made)

. replace trueinter = 0.8 in 3
(1 real change made)

. replace truemain = 0.2 in 2
(1 real change made)

. 
. * set up
. siman setup, rep(i) target(inter main) method(method) est(b) se(se) true(true) dgm(parm1)
note: converting to long-wide format, creating variable target

                   SUMMARY OF DATA
_____________________________________________________

The siman format is:              format 3: long-wide
The format for targets is:        long
The format for methods is:        wide
The number of targets is:         2
The target values are:            inter main

The number of methods is:         4
The method values are:            CC FULLDAT IMPALL IMPBYZ

Data generating mechanism (dgm)
The total number of dgms is:      1
The dgm variables (# levels):     parm1 (1) 

Estimates are contained in the dataset

The estimates stub is:            b
The se stub is:                   se
The df stub is:                   N/A
The ci stubs are:                 N/A
The p stub is:                    N/A
The true variable is:             true
_____________________________________________________

. 
. di as result "*** SIMAN GRAPHS HAVE PASSED ALL THE TESTS IN `filename'.do ***"
*** SIMAN GRAPHS HAVE PASSED ALL THE TESTS IN test_siman_widelong_EMZ.do ***

. 
. log close
